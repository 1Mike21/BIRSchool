import{l as i,T as w,e as f,w as a,o as g,b as n,d,a as o,u as r,n as k}from"./app-BXMhQWYf.js";import{_ as V,a as b}from"./FormSection-CJ5gCpMo.js";import{_ as l}from"./InputError-G7xtYhoB.js";import{_ as c}from"./InputLabel-Dx5dXBjV.js";import{_ as v}from"./PrimaryButton-DzSzy4Z5.js";import{_ as p}from"./HideShowPassword-BaUGIRux.js";import"./SectionDescription-D34OcXJ7.js";import"./TextInput-BpUs-DRt.js";const x={class:"col-span-6 sm:col-span-4"},y={class:"col-span-6 sm:col-span-4"},$={class:"col-span-6 sm:col-span-4"},E={__name:"UpdatePasswordForm",setup(P){const u=i(null),m=i(null),s=w({current_password:"",password:"",password_confirmation:""}),_=()=>{s.put(route("user-password.update"),{errorBag:"updatePassword",preserveScroll:!0,onSuccess:()=>s.reset(),onError:()=>{s.errors.password&&(s.reset("password","password_confirmation"),u.value.focus()),s.errors.current_password&&(s.reset("current_password"),m.value.focus())}})};return(h,e)=>(g(),f(V,{onSubmitted:_},{title:a(()=>[n(" Обновление пароля ")]),description:a(()=>[n(" Убедитесь, что в вашем аккаунте используется сложный пароль. ")]),form:a(()=>[d("div",x,[o(c,{for:"current_password",value:"Текущий пароль",class:"text-black dark:text-white"}),o(p,{id:"current_password",ref_key:"currentPasswordInput",ref:m,modelValue:r(s).current_password,"onUpdate:modelValue":e[0]||(e[0]=t=>r(s).current_password=t),errors:r(s).errors.current_password,autocomplete:"current-password"},null,8,["modelValue","errors"]),o(l,{message:r(s).errors.current_password,class:"mt-2"},null,8,["message"])]),d("div",y,[o(c,{for:"password",value:"Новый пароль",class:"text-black dark:text-white"}),o(p,{ref_key:"passwordInput",ref:u,modelValue:r(s).password,"onUpdate:modelValue":e[1]||(e[1]=t=>r(s).password=t),errors:r(s).errors.password,autocomplete:"new-password"},null,8,["modelValue","errors"]),o(l,{message:r(s).errors.password,class:"mt-2"},null,8,["message"])]),d("div",$,[o(c,{for:"password_confirmation",value:"Подтвердите пароль",class:"text-black dark:text-white"}),o(p,{id:"password_confirmation",modelValue:r(s).password_confirmation,"onUpdate:modelValue":e[2]||(e[2]=t=>r(s).password_confirmation=t),errors:r(s).errors.password_confirmation,autocomplete:"new-password"},null,8,["modelValue","errors"]),o(l,{message:r(s).errors.password_confirmation,class:"mt-2"},null,8,["message"])])]),actions:a(()=>[o(b,{on:r(s).recentlySuccessful,class:"me-3"},{default:a(()=>[n(" Сохранено ")]),_:1},8,["on"]),o(v,{class:k(["hover:bg-gray-700 focus:bg-gray-700 dark:hover:bg-gray-900 dark:focus:bg-gray-900",{"opacity-25":r(s).processing}]),disabled:r(s).processing},{default:a(()=>[n(" Сохранить ")]),_:1},8,["class","disabled"])]),_:1}))}};export{E as default};
